<!DOCTYPE html>
<!--
This file has been automatically generated by the Character Builder.
You can also cut and paste from this file into your own web page. DO NOT MODIFY
THIS FILE, as your changes may be overwritten the next time you Render to HTML5.
-->
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	</head>
	<body>

		<script src="MSFloatingCharacter.js" type="text/javascript"></script>
		<script src="MSRSS.js" type="text/javascript"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
		<script src="MSHTML5.min.js" type="text/javascript"></script>
		<div id="Movie1Div" style="position:absolute; left:0px; top:0px; width:250px; height:200px; border:0px;">

		<script type="text/javascript">
		msEmbed('Movie1','Angela','Angela_Files',250,200);
		</script>

		<!-- describes a grab region for dragging the character - you can adjust left/top/width/height to create a smaller grab region. -->
		<div style="position:absolute;left:0px;top:0px;width:250px;height:200px;background-color:#008080;opacity:0.001;filter:alpha(opacity=0.1);cursor:move;" onmousedown="dragStart(event, 'Movie1Div')">
		</div>

		</div>
		<p>
		Lorem ipsum dolor sit amet consectetuer adipiscing elit suspendisse sit amet neque integer velit praesent sollicitudin eros nec sem nam placerat mollis ipsum quisque nec tortor et sem molestie tristique vivamus quis velit a nibh condimentum mattis nulla lacus augue vulputate ut placerat ac convallis nec lectus nulla facilisi suspendisse vitae enim quis neque luctus posuere morbi nibh integer nec elit. 
		Lorem ipsum dolor sit amet consectetuer adipiscing elit suspendisse sit amet neque integer velit praesent sollicitudin eros nec sem nam placerat mollis ipsum quisque nec tortor et sem molestie tristique vivamus quis velit a nibh condimentum mattis nulla lacus augue vulputate ut placerat ac convallis nec lectus nulla facilisi suspendisse vitae enim quis neque luctus posuere morbi nibh integer nec elit. 
		Lorem ipsum dolor sit amet consectetuer adipiscing elit suspendisse sit amet neque integer velit praesent sollicitudin eros nec sem nam placerat mollis ipsum quisque nec tortor et sem molestie tristique vivamus quis velit a nibh condimentum mattis nulla lacus augue vulputate ut placerat ac convallis nec lectus nulla facilisi suspendisse vitae enim quis neque luctus posuere morbi nibh integer nec elit. 
		Lorem ipsum dolor sit amet consectetuer adipiscing elit suspendisse sit amet neque integer velit praesent sollicitudin eros nec sem nam placerat mollis ipsum quisque nec tortor et sem molestie tristique vivamus quis velit a nibh condimentum mattis nulla lacus augue vulputate ut placerat ac convallis nec lectus nulla facilisi suspendisse vitae enim quis neque luctus posuere morbi nibh integer nec elit. 
		</p>
		<p/>

		<!-- Character Builder API examples -->
		<a href="javascript:msSpeak('Movie1','This is a test of dynamic Speech')">msSpeak('Movie1','This is a test of Dynamic Speech')</a><br>

		<!-- Character Builder events -->
		<script type="text/javascript" language="JavaScript">

		// TODO: Replace SampleRSS.xml with your own RSS feed - see http://www.mediasemantics.com/kb/kb120.htm
		var rss = new RSSFeed('SampleRSS.xml','iPad,eye-pad,NYSE,nigh-zee');

		function onRSSSentence(text)
		{
			msSpeakQueued('Movie1', text);
		}
		var userid = "joeuser"; // TODO: Get this from a session cookie set by a login
		function onSceneLoaded(id)
		{
			// CB content loaded and ready to accept commands
			if (!msStartShieldUp('Movie1')) setTimeout(function(){rss.reloadRSSFeed()}, 250);
			$.ajax({ 
				url: "GetVars.asp?userid="+userid, data:{}, dataType:"jsonp", 
				success: function(o) { for (var name in o) { msSetVariable("Movie1", name, o[name]); }}, 
				error: function() { alert("Error calling server"); } 
		}); 
		}
		function onStartShieldDown(id)
		{
			// On iOS, user clicked to start
			setTimeout(function(){rss.reloadRSSFeed()}, 250);
		}
		function onPresentingChange(id, p)
		{
			// Presenting state changed, e.g. as a result of going idle
			// if (p == false) alert("Character idle");
		}
		function onFocusChange(id, f)
		{
			// Focus changed, e.g. as a result of navigation
		}
		function onExternalCommand(id, cmd, args)
		{

			// Move a character from js using move('Movie1Div',x,y), or from CB script using an External Command action with "move" as the cmd, and "x,y" as the arg
			if (cmd == "move") move("Movie1Div", args.split(",",3)[0], args.split(",",3)[1]);
		}
		function onQueueLengthChange(id, n)
		{
			// msSpeakQueued queue length change
			if (n <= 1) rss.reloadRSSFeed();
		}
		function onVariableChange(id, n)
		{
			// One or more variables changed
			var o = msGetVariables(id);
			$.ajax({ url: "SetVars.asp?userid="+userid, type:"post", data:o, dataType:"jsonp", 
				success: function(json) {}, 
				error: function() { alert("Error calling server"); } 
			}); 
		}
		</script>

	</body>
</html>
